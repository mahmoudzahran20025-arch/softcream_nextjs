# ๐ฏ ุชูุงูู ุงูุฅุถุงูุงุช (Addons) ูู ูุงุฌูุฉ ุงูุฃุฏูู

## ๐ ููุฎุต ุงูุชุญุฏูุซ

ุชู ุชุญุฏูุซ ูุงุฌูุฉ ุงูุฃุฏูู ูุฏุนู ุฅุถุงูุฉ ูุชุนุฏูู ุงูุฅุถุงูุงุช ุงููุชุงุญุฉ (Allowed Addons) ููู ููุชุฌ.

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. ุชุญุฏูุซ Types ูู `adminApi.ts`
- ุฅุถุงูุฉ ุญูู `allowed_addons?: string` ุฅูู ูุงุฌูุฉ `Product`
- ูุฐุง ุงูุญูู ูุญุชูู ุนูู JSON array ูู ูุนุฑูุงุช ุงูุฅุถุงูุงุช

### 2. ุชุญุฏูุซ `ProductsPage.tsx`

#### ุฅุถุงูุฉ ูุงุฆูุฉ ุงูุฅุถุงูุงุช ุงููุชุงุญุฉ:
```typescript
const AVAILABLE_ADDONS = [
  { id: 'lotus', name: 'ููุชุณ', nameEn: 'Lotus' },
  { id: 'nuts', name: 'ููุณุฑุงุช', nameEn: 'Nuts' },
  { id: 'caramel', name: 'ูุฑุงููู', nameEn: 'Caramel' },
  { id: 'nutella', name: 'ููุชููุง', nameEn: 'Nutella' },
  { id: 'extra-scoop', name: 'ุณููุจ ุฅุถุงูู', nameEn: 'Extra Scoop' },
  { id: 'oreo', name: 'ุฃูุฑูู', nameEn: 'Oreo' },
  { id: 'chocolate-chips', name: 'ุฑูุงุฆู ุดููููุงุชุฉ', nameEn: 'Chocolate Chips' },
  { id: 'strawberry-sauce', name: 'ุตูุต ูุฑุงููุฉ', nameEn: 'Strawberry Sauce' },
  { id: 'chocolate-sauce', name: 'ุตูุต ุดููููุงุชุฉ', nameEn: 'Chocolate Sauce' },
];
```

#### ุฅุถุงูุฉ State ููุฅุถุงูุงุช ุงููุฎุชุงุฑุฉ:
```typescript
const [selectedAddons, setSelectedAddons] = useState<string[]>([]);
```

#### ุฅุถุงูุฉ ุฏุงูุฉ Toggle ููุฅุถุงูุงุช:
```typescript
const toggleAddon = (addonId: string) => {
  setSelectedAddons(prev => {
    if (prev.includes(addonId)) {
      return prev.filter(id => id !== addonId);
    } else {
      return [...prev, addonId];
    }
  });
};
```

#### ุชุญุฏูุซ `handleEdit`:
- ูููู ุจุชุญููู `allowed_addons` ูู JSON string ุฅูู array
- ูุถุน ุงูููู ูู `selectedAddons` state

#### ุชุญุฏูุซ `handleSubmit`:
- ูุญูู `selectedAddons` array ุฅูู JSON string
- ูุฑุณูู ูุน ุจูุงูุงุช ุงูููุชุฌ ุฅูู Backend

#### ุชุญุฏูุซ `resetForm`:
- ูุนูุฏ ุชุนููู `selectedAddons` ุฅูู array ูุงุฑุบ

### 3. ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฌุฏูุฏุฉ

ุชู ุฅุถุงูุฉ ูุณู ุฌุฏูุฏ ูู ูููุฐุฌ ุงูููุชุฌ ุจุนููุงู "ุงูุฅุถุงูุงุช ุงููุชุงุญุฉ" ูุญุชูู ุนูู:

- **Checkboxes** ููู ุฅุถุงูุฉ ูุชุงุญุฉ
- ุนุฑุถ ุงูุงุณู ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- ุชุตููู ุชูุงุนูู:
  - Border ูุฑุฏู ุนูุฏ ุงูุงุฎุชูุงุฑ
  - Hover effect
  - Background ูุฑุฏู ูุงุชุญ ุนูุฏ ุงูุงุฎุชูุงุฑ
- ุฑุณุงูุฉ ุชุฃููุฏ ุชุนุฑุถ ุนุฏุฏ ุงูุฅุถุงูุงุช ุงููุฎุชุงุฑุฉ

## ๐จ ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู

### ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ:
1. ุงูุชุญ ูููุฐุฌ "ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ"
2. ุงููุฃ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
3. ูู ูุณู "ุงูุฅุถุงูุงุช ุงููุชุงุญุฉ"ุ ุงุฎุชุฑ ุงูุฅุถุงูุงุช ุงูููุงุณุจุฉ
4. ุงุญูุธ ุงูููุชุฌ

### ุชุนุฏูู ููุชุฌ ููุฌูุฏ:
1. ุงุถุบุท ุนูู ุฒุฑ "ุชุนุฏูู" ููููุชุฌ
2. ุณูุชู ุชุญููู ุงูุฅุถุงูุงุช ุงููุฎุชุงุฑุฉ ูุณุจูุงู ุชููุงุฆูุงู
3. ุนุฏูู ุงูุงุฎุชูุงุฑุงุช ุญุณุจ ุงูุญุงุฌุฉ
4. ุงุญูุธ ุงูุชุบููุฑุงุช

## ๐ ุชุฏูู ุงูุจูุงูุงุช

```
Frontend (Admin) โ Backend โ Database
selectedAddons[] โ JSON.stringify() โ allowed_addons (TEXT)

Database โ Backend โ Frontend (Client)
allowed_addons (TEXT) โ JSON.parse() โ addonsList[]
```

## ๐ ุงูุชูุงูู ูุน Backend

ุงูุจูุงูุงุช ุงููุฑุณูุฉ:
```json
{
  "id": "vanilla-ice-cream",
  "name": "ุขูุณ ูุฑูู ูุงููููุง",
  "allowed_addons": "[\"lotus\",\"nuts\",\"caramel\"]",
  ...
}
```

ุงูุจูุงูุงุช ุงููุณุชููุฉ ูู Backend:
```json
{
  "id": "1",
  "name": "ูุงููููุง ููุงุณูู",
  "allowed_addons": "[\"lotus\",\"nuts\",\"caramel\",\"nutella\",\"extra-scoop\"]",
  "addonsList": [
    { "id": "lotus", "name": "ููุชุณ", "price": 5 },
    { "id": "nuts", "name": "ููุณุฑุงุช", "price": 7 }
  ]
}
```

## โจ ุงููููุฒุงุช

1. **ูุงุฌูุฉ ุณููุฉ ุงูุงุณุชุฎุฏุงู**: Checkboxes ุจุฏูุงู ูู JSON ูุฏูู
2. **ุชุตููู ูุชุฌุงูุจ**: ูุนูู ุนูู ุฌููุน ุงูุดุงุดุงุช
3. **ุชุฃููุฏ ุจุตุฑู**: ุฑุณุงูุฉ ุชุนุฑุถ ุนุฏุฏ ุงูุฅุถุงูุงุช ุงููุฎุชุงุฑุฉ
4. **ุชูุงูู ูุงูู**: ูุนูู ูุน Backend ุจุฏูู ุชุนุฏููุงุช
5. **ุฏุนู ุงูุชุนุฏูู**: ูุญูู ุงูุฅุถุงูุงุช ุงููุฎุชุงุฑุฉ ูุณุจูุงู ุนูุฏ ุงูุชุนุฏูู

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑู)

1. **ุฅุถุงูุฉ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุฅุถุงูุงุช**: ูุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงูุฅุถุงูุงุช ููุณูุง
2. **ุนุฑุถ ุงูุฃุณุนุงุฑ**: ุฅุถุงูุฉ ุฃุณุนุงุฑ ุงูุฅุถุงูุงุช ูู ูุงุฌูุฉ ุงูุงุฎุชูุงุฑ
3. **ููุชุฑุฉ ุญุณุจ ุงูููุน**: ุชุตููู ุงูุฅุถุงูุงุช (toppings, sauces, extras)
4. **Bulk Actions**: ุชุทุจูู ููุณ ุงูุฅุถุงูุงุช ุนูู ุนุฏุฉ ููุชุฌุงุช

## ๐ ููุงุญุธุงุช ูููุฉ

- ูุงุฆูุฉ `AVAILABLE_ADDONS` ูุฌุจ ุฃู ุชุชุทุงุจู ูุน ุงูุจูุงูุงุช ูู Backend
- ุฅุฐุง ุชู ุฅุถุงูุฉ ุฅุถุงูุงุช ุฌุฏูุฏุฉ ูู Backendุ ูุฌุจ ุชุญุฏูุซ ุงููุงุฆูุฉ ูู Frontend
- ุงูุจูุงูุงุช ุชูุญูุธ ูู JSON string ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- Backend ูููู ุจุชุญููู JSON ูุฅุฑุฌุงุน `addonsList` ููุนููู

## โ ุงูุงุฎุชุจุงุฑ

ุชุฃูุฏ ูู:
- [ ] ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ ูุน ุฅุถุงูุงุช
- [ ] ุชุนุฏูู ููุชุฌ ููุฌูุฏ ูุชุบููุฑ ุงูุฅุถุงูุงุช
- [ ] ุญูุธ ููุชุฌ ุจุฏูู ุฅุถุงูุงุช
- [ ] ุนุฑุถ ุงูููุชุฌ ูู ูุงุฌูุฉ ุงูุนููู ูุงูุชุฃูุฏ ูู ุธููุฑ ุงูุฅุถุงูุงุช
- [ ] ุฅุถุงูุฉ ููุชุฌ ููุณูุฉ ูุน ุฅุถุงูุงุช ูุงูุชุฃูุฏ ูู ุญุณุงุจ ุงูุณุนุฑ ุงูุตุญูุญ
