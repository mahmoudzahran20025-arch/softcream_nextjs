# ๐ฆ ProductModal - ุฏููู ุงููุทูุฑ ุงูุดุงูู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ProductModal ูู ุงููููู ุงูุฑุฆูุณู ูุนุฑุถ ุชูุงุตูู ุงูููุชุฌ ูุชุฎุตูุตู ูุจู ุงูุฅุถุงูุฉ ููุณูุฉ.
ูุฏุนู ุฃููุงุน ูุชุนุฏุฏุฉ ูู ุงูููุชุฌุงุช: BYO (ุงุตูุน ุจููุณู)ุ Presetุ Milkshakeุ Dessertุ Standard.

---

## ๐ ูููู ุงููููุงุช

```
ProductModal/
โโโ index.tsx                 # ๐ฏ ุงููููู ุงูุฑุฆูุณู - Entry Point
โโโ useProductLogic.ts        # ๐ Hook: ุฌูุจ ุจูุงูุงุช ุงูููุชุฌ
โโโ ProductImage.tsx          # ๐ผ๏ธ ุนุฑุถ ุตูุฑุฉ/ุตูุฑ ุงูููุชุฌ
โโโ ProductHeader.tsx         # ๐ ุงูุนููุงู ูุงูุณุนุฑ ูุงููุตู
โโโ NutritionInfo.tsx         # ๐ฅ ุงูููู ุงูุบุฐุงุฆูุฉ
โโโ SizeSelector.tsx          # ๐ ุงุฎุชูุงุฑ ุงูุญุฌู
โโโ ContainerSelector.tsx     # ๐ฅค ุงุฎุชูุงุฑ ุงูุญุงููุฉ
โโโ CustomizationSummary.tsx  # ๐ ููุฎุต ุงูุงุฎุชูุงุฑุงุช
โโโ ActionFooter.tsx          # ๐ ุฒุฑ ุงูุฅุถุงูุฉ ููุณูุฉ
โโโ StickyMiniHeader.tsx      # ๐ ุงูููุฏุฑ ุงููุตุบุฑ ุนูุฏ ุงูุณูุฑูู
โโโ templates/                # ๐ ููุงูุจ ุงูุนุฑุถ ุญุณุจ ููุน ุงูููุชุฌ
โ   โโโ index.ts
โ   โโโ ProductTemplateRenderer.tsx
โ   โโโ BYOTemplate.tsx
โ   โโโ DessertTemplate.tsx
โ   โโโ MilkshakeTemplate.tsx
โ   โโโ PresetTemplate.tsx
โ   โโโ StandardTemplate.tsx
โ   โโโ README.md
โ   โโโ shared/              # ๐ ููููุงุช ูุดุชุฑูุฉ ุจูู ุงูููุงูุจ
โ       โโโ index.ts         # Barrel exports
โ       โโโ OptionCard.tsx   # ูุงุฑุช ุงูุฎูุงุฑ ุงููุงุญุฏ
โ       โโโ OptionsGrid.tsx  # ุดุจูุฉ ุงูุฎูุงุฑุงุช
โ       โโโ StepSection.tsx  # ูููู ุงูุฎุทูุฉ
โ       โโโ materialColors.ts # ุฃููุงู ุงูููุงุฏ
โ       โโโ types.ts         # Types ูุดุชุฑูุฉ
โโโ README.md                 # ๐ ูุฐุง ุงูููู
```

> โ **ุชู ุงูุชูุธูู (ุฏูุณูุจุฑ 2025):** ุชู ุญุฐู ุงููููุงุช ุงููุฏููุฉ (useCustomization.ts, AddonsList.tsx, CustomizationSelector.tsx) - ูู ุงูููุชุฌุงุช ุงูุขู ุชุณุชุฎุฏู ุงููุธุงู ุงูููุญุฏ (Unified Options System)

---

## ๐ ุงููููุงุช ุงููุฑุชุจุทุฉ (ุฎุงุฑุฌ ุงููุฌูุฏ)

### Hooks

| ุงูููู | ุงููุณุงุฑ | ุงููุธููุฉ |
|-------|--------|---------|
| `useProductConfiguration` | `src/hooks/useProductConfiguration.ts` | ุฅุฏุงุฑุฉ ุงูุฃุญุฌุงู ูุงูุญุงููุงุช ูุงูุชุฎุตูุตุงุช |
| `useAddToCart` | `src/hooks/useAddToCart.ts` | ููุทู ุงูุฅุถุงูุฉ ููุณูุฉ ุงูููุญุฏ |

### Providers
| ุงูููู | ุงููุณุงุฑ | ุงููุธููุฉ |
|-------|--------|---------|
| `CartProvider` | `src/providers/CartProvider.tsx` | ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุณูุฉ |
| `ProductsProvider` | `src/providers/ProductsProvider.tsx` | ุฅุฏุงุฑุฉ ุจูุงูุงุช ุงูููุชุฌุงุช |

### UI Components
| ุงูููู | ุงููุณุงุฑ | ุงููุธููุฉ |
|-------|--------|---------|
| `QuantitySelector` | `src/components/ui/common/QuantitySelector.tsx` | ุชุญูู ุงููููุฉ (+/-) |
| `PriceDisplay` | `src/components/ui/common/PriceDisplay.tsx` | ุนุฑุถ ุงูุณุนุฑ ุจุงูุชูุณูู |
| `NutritionIcon` | `src/components/ui/common/NutritionIcon.tsx` | ุฃููููุงุช ุงูููู ุงูุบุฐุงุฆูุฉ |

---

## ๐๏ธ ูุนูุงุฑูุฉ ุงููููู

### ุชุฏูู ุงูุจูุงูุงุช (Data Flow)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        ProductModal                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ                    Props: product, isOpen               โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                              โ                                   โ
โ              โโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโ                  โ
โ              โผ               โผ               โผ                  โ
โ     โโโโโโโโโโโโโโ   โโโโโโโโโโโโโโ   โโโโโโโโโโโโโโ           โ
โ     โuseProduct  โ   โuseProduct  โ   โuseCustom-  โ           โ
โ     โLogic       โ   โConfig      โ   โization     โ           โ
โ     โ(API fetch) โ   โ(sizes/cont)โ   โ(legacy)    โ           โ
โ     โโโโโโโฌโโโโโโโ   โโโโโโโฌโโโโโโโ   โโโโโโโฌโโโโโโโ           โ
โ           โ                โ                โ                   โ
โ           โโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโ                   โ
โ                            โผ                                    โ
โ              โโโโโโโโโโโโโโโโโโโโโโโโโโโ                        โ
โ              โ  ProductTemplateRenderer โ                        โ
โ              โ  (ูุฎุชุงุฑ ุงููุงูุจ ุงูููุงุณุจ)  โ                        โ
โ              โโโโโโโโโโโโโฌโโโโโโโโโโโโโโ                        โ
โ                          โ                                      โ
โ     โโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโ                โ
โ     โผ          โผ         โผ         โผ          โผ                โ
โ  โโโโโโโ  โโโโโโโโโโโ โโโโโโโโ โโโโโโโโ โโโโโโโโโโโโ          โ
โ  โ BYO โ  โMilkshakeโ โPresetโ โDessertโ โStandard โ          โ
โ  โโโโโโโ  โโโโโโโโโโโ โโโโโโโโ โโโโโโโโ โโโโโโโโโโโโ          โ
โ                          โ                                      โ
โ                          โผ                                      โ
โ              โโโโโโโโโโโโโโโโโโโโโโโโโโโ                        โ
โ              โ      useAddToCart       โ                        โ
โ              โ   (ุฅุถุงูุฉ ููุณูุฉ ููุญุฏ)    โ                        โ
โ              โโโโโโโโโโโโโฌโโโโโโโโโโโโโโ                        โ
โ                          โผ                                      โ
โ              โโโโโโโโโโโโโโโโโโโโโโโโโโโ                        โ
โ              โ      CartProvider       โ                        โ
โ              โโโโโโโโโโโโโโโโโโโโโโโโโโโ                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฆ ุดุฑุญ ูู ููู

### 1. `index.tsx` - ุงููููู ุงูุฑุฆูุณู
**ุงููุณุคูููุฉ:** ุชุฌููุน ูู ุงูููููุงุช ุงููุฑุนูุฉ ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงูุนุงูุฉ

**ุงูู Hooks ุงููุณุชุฎุฏูุฉ:**
- `useProductLogic` - ุฌูุจ ุจูุงูุงุช ุงูููุชุฌ
- `useCustomization` - ุงูุชุฎุตูุตุงุช (Legacy)
- `useProductConfiguration` - ุงูุฃุญุฌุงู ูุงูุญุงููุงุช
- `useAddToCart` - ุงูุฅุถุงูุฉ ููุณูุฉ

**ุงูู State:**
```typescript
const [recommendations, setRecommendations] = useState<Product[]>([])
const [showMiniHeader, setShowMiniHeader] = useState(false)
const [showFooter, setShowFooter] = useState(false)
const [isWishlisted, setIsWishlisted] = useState(false)
```

---

### 2. `useProductLogic.ts`
**ุงููุณุคูููุฉ:** ุฌูุจ ุจูุงูุงุช ุงูููุชุฌ ุงูููุตูุฉ ูู ุงูู API

**ุงูู Input:**
```typescript
interface UseProductLogicProps {
  product: Product | null
  isOpen: boolean
}
```

**ุงูู Output:**
```typescript
{
  displayProduct,      // ุงูููุชุฌ ูุน ุงูุจูุงูุงุช ุงููุงููุฉ
  isFetchingAddons,    // ุญุงูุฉ ุงูุชุญููู
  quantity,            // ุงููููุฉ
  setQuantity,         // ุชุบููุฑ ุงููููุฉ
  selectedAddons,      // ุงูุฅุถุงูุงุช ุงููุฎุชุงุฑุฉ (Legacy)
  toggleAddon,         // ุชุจุฏูู ุฅุถุงูุฉ
  optionGroups,        // ูุฌููุนุงุช ุงูุฎูุงุฑุงุช
  addonsTotal,         // ูุฌููุน ุงูุฅุถุงูุงุช
  totalPrice,          // ุงูุณุนุฑ ุงูุฅุฌูุงูู
  tags,                // ุงูุชุงุฌุงุช
  ingredients,         // ุงูููููุงุช
  allergens,           // ูุณุจุจุงุช ุงูุญุณุงุณูุฉ
}
```

---

### 3. `ProductImage.tsx`
**ุงููุณุคูููุฉ:** ุนุฑุถ ุตูุฑุฉ/ุตูุฑ ุงูููุชุฌ ูุน Swiper

**ุงูููุฒุงุช:**
- ุฏุนู ุตูุฑ ูุชุนุฏุฏุฉ ูุน Swiper
- Zoom ุนูู ุงูุตูุฑ
- ุฃุฒุฑุงุฑ ุงููุดุงุฑูุฉ ูุงูููุถูุฉ
- Badge ูููุฆุฉ ูููุน ุงูุทุงูุฉ

---

### 5. `ProductHeader.tsx`
**ุงููุณุคูููุฉ:** ุนุฑุถ ุงุณู ุงูููุชุฌ ูุงูุณุนุฑ ูุงููุตู

**ุงูููุฒุงุช:**
- ุงุณู ุนุฑุจู ูุฅูุฌููุฒู
- ุณุนุฑ ูุน Energy Score Badge
- ูุตู ูุงุจู ููุชูุณูุน
- ุชูููู ุงูููุชุฌ

---

### 6. `NutritionInfo.tsx`
**ุงููุณุคูููุฉ:** ุนุฑุถ ุงูููู ุงูุบุฐุงุฆูุฉ

**ุงูููุฒุงุช:**
- ุนุฑุถ ุณุฑูุน (Calories, Protein, Carbs, Sugar)
- ูุณู ุชูุตููู ูุงุจู ููุทู
- ุฏุนู ุงูููู ุงูุบุฐุงุฆูุฉ ุงูุฏููุงููููุฉ ูู ุงูุชุฎุตูุตุงุช
- ุชุญุฐูุฑุงุช ุงูุญุณุงุณูุฉ

---

### 7. `SizeSelector.tsx`
**ุงููุณุคูููุฉ:** ุงุฎุชูุงุฑ ุญุฌู ุงูููุชุฌ

**ุงูู Props:**
```typescript
interface SizeSelectorProps {
  sizes: ProductSize[]
  selectedSize: string | null
  onSelect: (sizeId: string) => void
  basePrice: number
  showPriceAsTotal?: boolean
  showHeader?: boolean
}
```

---

### 8. `ContainerSelector.tsx`
**ุงููุณุคูููุฉ:** ุงุฎุชูุงุฑ ููุน ุงูุญุงููุฉ (ููุจุ ูููุ ูุงูู...)

**ุงูู Props:**
```typescript
interface ContainerSelectorProps {
  containers: ContainerType[]
  selectedContainer: string | null
  onSelect: (containerId: string) => void
}
```

---

### 9. `CustomizationSummary.tsx`
**ุงููุณุคูููุฉ:** ุนุฑุถ ููุฎุต ุงูุงุฎุชูุงุฑุงุช ุงููุฎุตุตุฉ

**ุงูููุฒุงุช:**
- ูุงุฆูุฉ ุงูุงุฎุชูุงุฑุงุช ูุน ุงูุฃุณุนุงุฑ
- ุฒุฑ ุญุฐู ููู ุงุฎุชูุงุฑ
- ูุฌููุน ุงูุฅุถุงูุงุช

---

### 11. `ActionFooter.tsx`
**ุงููุณุคูููุฉ:** ุฒุฑ ุงูุฅุถุงูุฉ ููุณูุฉ ูุน ุชูุงุตูู ุงูุณุนุฑ

**ุงูููุฒุงุช:**
- ุชุญูู ุงููููุฉ
- ุนุฑุถ ุงูุณุนุฑ ุงูุฅุฌูุงูู
- ุชูุตูู ุงูุณุนุฑ (ุฃุณุงุณู + ุฅุถุงูุงุช)
- ุฑุณุงุฆู ุงูุชุญูู
- ููุฎุต ุงูุงุฎุชูุงุฑุงุช ูุงุจู ููุชูุณูุน

---

### 12. `StickyMiniHeader.tsx`
**ุงููุณุคูููุฉ:** ููุฏุฑ ูุตุบุฑ ูุธูุฑ ุนูุฏ ุงูุณูุฑูู

**ุงูููุฒุงุช:**
- ุงุณู ุงูููุชุฌ
- ุงูุณุนุฑ ุงูุฅุฌูุงูู
- Animation ุนูุฏ ุงูุธููุฑ/ุงูุงุฎุชูุงุก

---

## ๐จ ูุธุงู Templates

### ููู ูุนููุ

1. `ProductTemplateRenderer` ูุญุฏุฏ ููุน ุงูููุชุฌ
2. ูุฎุชุงุฑ ุงููุงูุจ ุงูููุงุณุจ ุจูุงุกู ุนูู `productType`
3. ููุฑุฑ ุงูู props ูููุงูุจ ุงููุฎุชุงุฑ

### ุฃููุงุน ุงูููุงูุจ:

| ุงููุงูุจ | ุงูููุน | ุงูุงุณุชุฎุฏุงู |
|--------|-------|-----------|
| `BYOTemplate` | `byo_ice_cream` | ุงุตูุน ุขูุณ ูุฑููู |
| `MilkshakeTemplate` | `milkshake` | ุงููููู ุดูู |
| `PresetTemplate` | `preset_ice_cream` | ูููุงุช ุฌุงูุฒุฉ |
| `DessertTemplate` | `dessert` | ุงูุญูููุงุช |
| `StandardTemplate` | `standard` | ููุชุฌุงุช ุนุงุฏูุฉ |

### Shared Components:

| ุงููููู | ุงููุธููุฉ |
|--------|---------|
| `OptionCard` | ูุงุฑุช ุงูุฎูุงุฑ ุงููุงุญุฏ ูุน ุตูุฑุฉ ูููู |
| `OptionsGrid` | ุดุจูุฉ ุงูุฎูุงุฑุงุช ูุน Header ูValidation |
| `StepSection` | โจ ูููู ุงูุฎุทูุฉ ูุน Progress indicator |
| `materialColors` | โจ ุฃููุงู ุงูููุงุฏ (ูููุงุชุ ุตูุตุงุช...) |

---

## ๐ ุชุฏูู ุงูุฅุถุงูุฉ ููุณูุฉ

```
1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุงูุฎูุงุฑุงุช
         โ
         โผ
2. useProductConfiguration ูุญุณุจ ุงูุณุนุฑ ูุงูุชุญูู
         โ
         โผ
3. ActionFooter ูุนุฑุถ ุงูุฒุฑ (enabled/disabled)
         โ
         โผ
4. ุงููุณุชุฎุฏู ูุถุบุท "ุฃุถู ููุณูุฉ"
         โ
         โผ
5. useAddToCart ูุญุฏุฏ ููุน ุงูุชุฏูู:
   โโโ config: BYO/Sizes/Containers
   โโโ customization: ุชุฎุตูุตุงุช ุจุฏูู containers
   โโโ legacy: ุฅุถุงูุงุช ุจุณูุทุฉ
         โ
         โผ
6. CartProvider.addToCart() ูุถูู ููุณูุฉ
         โ
         โผ
7. Toast notification + ุฅุบูุงู Modal
```

---

## ๐๏ธ ููููุฉ ุงูุชุนุฏูู

### ุฅุถุงูุฉ ุญูู ุฌุฏูุฏ ููููุชุฌ:
1. ุฃุถู ุงูุญูู ูู `ProductHeader.tsx` ุฃู `NutritionInfo.tsx`
2. ุชุฃูุฏ ูู ุฌูุจู ูู `useProductLogic.ts`

### ุฅุถุงูุฉ ููุน ููุชุฌ ุฌุฏูุฏ:
1. ุฃูุดุฆ Template ุฌุฏูุฏ ูู `templates/`
2. ุฃุถู ุงูุดุฑุท ูู `ProductTemplateRenderer.tsx`
3. ุฃุถู ุงูููุน ูู `templates/index.ts`

### ุชุนุฏูู ุญุณุงุจ ุงูุณุนุฑ:
1. ุนุฏูู `useProductConfiguration.ts` ููููุชุฌุงุช ุงูุฌุฏูุฏุฉ
2. ุฃู `useCustomization.ts` ููููุชุฌุงุช ุงููุฏููุฉ

### ุชุนุฏูู ุงูุชุญูู (Validation):
1. ุนุฏูู `validationResult` ูู ุงูู Hook ุงูููุงุณุจ
2. ุนุฏูู ุฑุณุงุฆู ุงูุฎุทุฃ ูู `ActionFooter.tsx`

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### ุงููุธุงู ุงูููุญุฏ (Unified Options System):
- โ ูู ุงูููุชุฌุงุช ุงูุขู ุชุณุชุฎุฏู `useProductConfiguration` + `Templates`
- โ ุชู ุญุฐู ุงููููุงุช ุงููุฏููุฉ: `useCustomization.ts`, `AddonsList.tsx`, `CustomizationSelector.tsx`
- โ ุงูุจูุงูุงุช ุชุฃุชู ูู `/products/:id/configuration` endpoint

### ุงูู Caching:
- ุจูุงูุงุช ุงูููุชุฌ ุชูุฎุฒู ูู 5 ุฏูุงุฆู (`staleTime: 1000 * 60 * 5`)
- ุงูุชุฎุตูุตุงุช ุชูุฎุฒู ูู 5 ุฏูุงุฆู ุฃูุถุงู

---

## ๐ ุงูุฃุฏุงุก

### ุงูุชุญุณููุงุช ุงููุทุจูุฉ:
- โ React Query ููู caching
- โ Lazy loading ููุตูุฑ
- โ Memoization ููุญุณุงุจุงุช
- โ Debouncing ููู scroll events

### ููุงุท ููุชุญุณูู ุงููุณุชูุจูู:
- [ ] Code splitting ููู Templates
- [ ] Virtual scrolling ููุฎูุงุฑุงุช ุงููุซูุฑุฉ
- [ ] Prefetching ููููุชุฌุงุช ุงูููุชุฑุญุฉ

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ูุฏูู:
1. ุงูุชุญ ููุชุฌ BYO โ ุชุฃูุฏ ูู ุธููุฑ ุงูุญุงููุงุช ูุงูุฃุญุฌุงู
2. ุงูุชุญ ููุชุฌ Preset โ ุชุฃูุฏ ูู ุธููุฑ ุงูุฃุญุฌุงู ููุท
3. ุงุฎุชุฑ ุฎูุงุฑุงุช โ ุชุฃูุฏ ูู ุชุญุฏูุซ ุงูุณุนุฑ
4. ุฃุถู ููุณูุฉ โ ุชุฃูุฏ ูู ุญูุธ ุงูุงุฎุชูุงุฑุงุช

### ุงููููุงุช ููุงุฎุชุจุงุฑ:
```
- BYO: ุฃู ููุชุฌ ูู "ุงุตูุน ุขูุณ ูุฑููู"
- Preset: ุฃู ูููุฉ ุฌุงูุฒุฉ
- Milkshake: ุฃู ูููู ุดูู
- Dessert: ุฃู ุญููู
```

---

## ๐ ุณุฌู ุงูุชุบููุฑุงุช

| ุงูุชุงุฑูุฎ | ุงูุชุบููุฑ |
|---------|---------|
| 2025-12 | ๐งน ุญุฐู ุงููููุงุช ุงููุฏููุฉ (useCustomization, AddonsList, CustomizationSelector) |
| 2025-12 | โจ ูุตู `StepSection` ู `materialColors` |
| 2025-12 | ุฅูุดุงุก README ุงูุดุงูู |
| 2025-11 | ุฅุถุงูุฉ ูุธุงู Templates |
| 2025-11 | ุฅุถุงูุฉ useProductConfiguration |
| 2025-11 | ุฅุถุงูุฉ useAddToCart ุงูููุญุฏ |

---

**ุขุฎุฑ ุชุญุฏูุซ:** ุฏูุณูุจุฑ 2025
**ุงููุณุคูู:** ูุฑูู ุงูุชุทููุฑ


---

## ๐ ุชุญููู ุงููููุงุช ูุชูุตูุงุช ุงูุชูุณูู

### ุชุญููู ุญุฌู ุงููููุงุช:

| ุงูููู | ุงูุฃุณุทุฑ ุชูุฑูุจุงู | ุงูุญุงูุฉ | ุงูุชูุตูุฉ |
|-------|---------------|--------|---------|
| `index.tsx` | ~300 | โ๏ธ ูุจูุฑ | ูููู ุชูุณููู ูุงุญูุงู |
| `useProductLogic.ts` | ~90 | โ ููุงุณุจ | ูุง ูุญุชุงุฌ ุชูุณูู |
| `useCustomization.ts` | ~180 | โ ููุงุณุจ | ูุง ูุญุชุงุฌ ุชูุณูู |
| `ActionFooter.tsx` | ~200 | โ ููุงุณุจ | ูุง ูุญุชุงุฌ ุชูุณูู |
| `ProductImage.tsx` | ~200 | โ ููุงุณุจ | ูุง ูุญุชุงุฌ ุชูุณูู |
| `BYOTemplate.tsx` | ~200 | โ ุชู ุชูุณููู | โ ููุชูู |
| `OptionCard.tsx` | ~180 | โ ุชู ุชูุณููู | โ ููุชูู |

---

### โ ุงูุชูุณููุงุช ุงููููุฐุฉ:

#### 1. `StepSection.tsx` - ุชู ูุตูู ูู `BYOTemplate.tsx`

**ุงููููุน:** `templates/shared/StepSection.tsx`

**ุงูุงุณุชุฎุฏุงู:**
```typescript
import { StepSection } from './shared'

<StepSection
  step={1}
  title="ุงุฎุชุฑ ุงููููุงุช"
  IconComponent={IceCream}
  badge="2/3"
  isComplete={false}
  isActive={true}
  highlight
  hint="ุงุฎุชุฑ ูููุชูู ุนูู ุงูุฃูู"
>
  <OptionsGrid ... />
</StepSection>
```

---

#### 2. `materialColors.ts` - ุชู ูุตูู ูู `OptionCard.tsx`

**ุงููููุน:** `templates/shared/materialColors.ts`

**ุงูู Exports:**
```typescript
import { 
  getMaterialColor,      // ุฏุงูุฉ ุชุญุฏูุฏ ุงูููู
  isRainbowColor,        // ูุญุต ููู ููุณ ูุฒุญ
  RAINBOW_GRADIENT,      // CSS gradient ุนููุฏู
  RAINBOW_GRADIENT_135   // CSS gradient ูุงุฆู
} from './materialColors'
```

**ุงูุฃููุงู ุงููุฏุนููุฉ:**
- ๐ซ ุดููููุงุชูุ ูุงูุงูุ ุจุฑุงููู
- ๐ฅ ูุณุชู
- ๐ ูุฑุงููุฉุ ุชูุช
- ๐ฆ ูุงููููุง
- ๐ฏ ูุฑุงูููุ ุชูููุ ุนุณู
- ๐ฅญ ูุงูุฌู
- ๐ซ ุจููุจูุฑู
- ๐ช ุฃูุฑููุ ููููุฒ
- ๐ช ููุชุณุ ุจุณูููุช
- ๐ฐ ููุชููุงุ ุจูุฏู
- ๐ฟ ูุนูุงุน
- โ ูููุฉุ ูููุง
- ๐ ููููู
- ๐ฅฅ ุฌูุฒ ููุฏ
- ๐ ุณุจุฑูููุฒ (rainbow)

---

### ๐ ุชูุตูุงุช ูุณุชูุจููุฉ:

#### `index.tsx` โ ุชูุณูู ุงูู JSX (ุงุฎุชูุงุฑู)

**ุงููุดููุฉ:** ุงูููู ูุญุชูู ุนูู JSX ูุซูุฑ ููู buttons ูุงูู layout

**ุงูุญู ุงูููุชุฑุญ:**
```
ProductModal/
โโโ index.tsx              # ุงูููุทู ุงูุฑุฆูุณู ููุท
โโโ ModalLayout.tsx        # NEW: ุงูู layout ูุงูู backdrop
โโโ ModalActions.tsx       # NEW: ุฃุฒุฑุงุฑ ุงูุฅุบูุงู ูุงููุดุงุฑูุฉ
โโโ ...
```

**ุงูุฃููููุฉ:** ููุฎูุถุฉ (ุงูููู ูุนูู ุจุดูู ุฌูุฏ ุญุงููุงู)

---

### โ ุงููููุงุช ุงูููุธูุฉ ุฌูุฏุงู:

| ุงูููู | ุงูุณุจุจ |
|-------|-------|
| `useProductConfiguration.ts` | Hook ูุงุญุฏ ุจูุณุคูููุฉ ูุงุถุญุฉ |
| `useAddToCart.ts` | Hook ููุญุฏ ููุฅุถุงูุฉ ููุณูุฉ |
| `ProductTemplateRenderer.tsx` | Factory pattern ูุธูู |
| `OptionsGrid.tsx` | ูููู ูุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู |
| `StepSection.tsx` | โ NEW: ูููู ุฎุทูุฉ ูููุตู |
| `materialColors.ts` | โ NEW: ุฃููุงู ูุฑูุฒูุฉ |
| `types.ts` | Types ูุฑูุฒูุฉ |

---

### ๐ฏ ุฎุทุฉ ุงูุนูู:

#### โ ุงููุฑุญูุฉ 1 (ููุชููุฉ):
- [x] ูุตู `getMaterialColor` ูู `OptionCard.tsx`
- [x] ูุตู `StepSection` ูู `BYOTemplate.tsx`
- [x] ุชุญุฏูุซ ุงูู exports ูู `shared/index.ts`

#### ุงููุฑุญูุฉ 2 (ูููุณุชูุจู):
- [ ] ุชูุณูู `index.tsx` ุฅุฐุง ุฒุงุฏ ุญุฌูู
- [ ] ุฅุถุงูุฉ unit tests ููู hooks

#### ุงููุฑุญูุฉ 3 (ุชุญุณููุงุช):
- [ ] Code splitting ููู templates
- [ ] Lazy loading ููููููุงุช ุงูุซูููุฉ

---

## ๐ ุงูุนูุงูุงุช ุจูู ุงููููุงุช (Dependency Graph)

```
                    โโโโโโโโโโโโโโโโโโโ
                    โ   index.tsx     โ
                    โโโโโโโโโโฌโโโโโโโโโ
                             โ
        โโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโ
        โ                    โ                    โ
        โผ                    โผ                    โผ
โโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโ
โuseProductLogicโ   โuseProductConf โ   โuseCustomizationโ
โโโโโโโโโโโโโโโโโ   โโโโโโโโโฌโโโโโโโโ   โโโโโโโโโโโโโโโโโ
                            โ
                            โผ
                โโโโโโโโโโโโโโโโโโโโโโโโโ
                โProductTemplateRendererโ
                โโโโโโโโโโโโโฌโโโโโโโโโโโโ
                            โ
    โโโโโโโโโโโโโฌโโโโโโโโโโโโผโโโโโโโโโโโโฌโโโโโโโโโโโโ
    โผ           โผ           โผ           โผ           โผ
โโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ
โ  BYO  โ โMilkshakeโ โ Preset  โ โ Dessert โ โStandard โ
โโโโโฌโโโโ โโโโโโฌโโโโโ โโโโโโฌโโโโโ โโโโโโฌโโโโโ โโโโโโฌโโโโโ
    โ          โ           โ           โ           โ
    โโโโโโโโโโโโดโโโโโโโโโโโโดโโโโโโโโโโโโดโโโโโโโโโโโโ
                           โ
                           โผ
                    โโโโโโโโโโโโโโโ
                    โOptionsGrid  โ
                    โโโโโโโโฌโโโโโโโ
                           โ
                           โผ
                    โโโโโโโโโโโโโโโ
                    โ OptionCard  โ
                    โโโโโโโโโโโโโโโ
```

---

## ๐ ูุฑุงุฌุน ุฅุถุงููุฉ

- [templates/README.md](./templates/README.md) - ุชูุซูู ูุธุงู ุงูููุงูุจ
- [hooks/README.md](../../hooks/README.md) - ุชูุซูู ุงูู Hooks
- [API Documentation](../../../lib/api.ts) - ุชูุซูู ุงูู API

---

## ๐ก ูุตุงุฆุญ ูููุทูุฑูู ุงูุฌุฏุฏ

1. **ุงุจุฏุฃ ูู `index.tsx`** - ูู ููุทุฉ ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ
2. **ุงููู ุงูู Hooks ุฃููุงู** - `useProductConfiguration` ูู ุงูุฃูู
3. **ุฑุงุฌุน `ProductTemplateRenderer`** - ูููู ููู ูุชู ุงุฎุชูุงุฑ ุงููุงูุจ
4. **ุงุณุชุฎุฏู `OptionsGrid`** - ูุฃู ูุงุฆูุฉ ุฎูุงุฑุงุช ุฌุฏูุฏุฉ
5. **ุงุชุจุน ููุท ุงูุฃููุงู** - ูู template ูู ููู ูููุฒ

---

## ๐ ูุดุงูู ุดุงุฆุนุฉ ูุญููููุง

### ุงููุดููุฉ: ุงูุณุนุฑ ูุง ูุชุญุฏุซ ุนูุฏ ุงุฎุชูุงุฑ ุงูุฎูุงุฑุงุช
**ุงูุญู:** ุชุฃูุฏ ูู ุฃู `useProductConfiguration` ููุณุชุฎุฏู ูููุณ `useCustomization`

### ุงููุดููุฉ: ุงูุฎูุงุฑุงุช ูุง ุชุธูุฑ
**ุงูุญู:** ุชุฃูุฏ ูู ุฃู ุงูู API ูุฑุฌุน `customizationRules` ุจุดูู ุตุญูุญ

### ุงููุดููุฉ: ุงูุฅุถุงูุฉ ููุณูุฉ ูุง ุชุนูู
**ุงูุญู:** ุชุฃูุฏ ูู ุฃู `validationResult.isValid` ูุฑุฌุน `true`

### ุงููุดููุฉ: ุงูููู ุงูุบุฐุงุฆูุฉ ูุง ุชุชุญุฏุซ
**ุงูุญู:** ุชุฃูุฏ ูู ุชูุฑูุฑ `customizationNutrition` ูู `NutritionInfo`

---

**ููุงูุฉ ุงูุชูุซูู** ๐
