# ๐งช BYO System - Frontend Integration Test Plan

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. ุชุญุฏูุซ ProductModal
- โ ุฅุถุงูุฉ `useCustomization` hook
- โ ุนุฑุถ `CustomizationSelector` ููููุชุฌุงุช ุงููุงุจูุฉ ููุชุฎุตูุต
- โ ุนุฑุถ `CustomizationSummary` ููุงุฎุชูุงุฑุงุช
- โ ุชุญุฏูุซ `handleAddToCart` ูุฏุนู selections
- โ ุชุญุฏูุซ `ActionFooter` ูุนุฑุถ ุงูุณุนุฑ ุงูุตุญูุญ

### 2. ุชุญุฏูุซ CartProvider
- โ ุฅุถุงูุฉ `selections` parameter ูู CartItem
- โ ุชุญุฏูุซ `addToCart` ููุจูู selections
- โ ุชุญุฏูุซ `removeFromCart` ูุฏุนู selections
- โ ุชุญุฏูุซ `updateCartQuantity` ูุฏุนู selections
- โ ุฅุถุงูุฉ `areSelectionsEqual` helper function

### 3. ุชุญุฏูุซ useCustomization Hook
- โ ุชุตุญูุญ API URL (ุฅุฒุงูุฉ /api ูู ุงููุณุงุฑ)
- โ ุงุณุชุฎุฏุงู production URL ูู fallback

## ๐งช ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ

### Test 1: ูุชุญ ููุชุฌ soft_serve_cup
```
1. ุงูุชุญ ุงููููุน
2. ุงุจุญุซ ุนู ููุชุฌ "ููุจ ุณููุช ุณูุฑู ูุฎุตุต"
3. ุงุถุบุท ุนูู ุงูููุชุฌ ููุชุญ ุงูููุฏุงู
4. ุชุญูู ูู ุธููุฑ ูุณู "ุงุตูุน ุงูุขูุณ ูุฑูู ุงูุฎุงุต ุจู" โจ
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุธูุฑ 3 ูุฌููุนุงุช: ุงููููุงุช ๐ฆุ ุงูุตูุตุงุช ๐ซุ ุงูุฅุถุงูุงุช ุงูููุฑูุดุฉ ๐ช
- โ ุงููููุงุช ุชุธูุฑ ูู "ุฅุฌุจุงุฑู"
- โ ูู ูุฌููุนุฉ ุชุนุฑุถ ุงูุนุฏุฏ ุงูุตุญูุญ ูู ุงูุฎูุงุฑุงุช

### Test 2: ุงุฎุชูุงุฑ ุงููููุงุช (Required)
```
1. ุงุฎุชุฑ ูููุฉ ูุงุญุฏุฉ (ูุซูุงู: ูุงููููุง)
2. ุชุญูู ูู ุชุบูุฑ ุงูููู ุฅูู gradient
3. ุงุฎุชุฑ ูููุฉ ุซุงููุฉ (ูุซูุงู: ุดููููุงุชุฉ)
4. ุญุงูู ุงุฎุชูุงุฑ ูููุฉ ุซุงูุซุฉ
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงููููุฉ ุงูุฃููู ุชุชุญูู ุฅูู gradient ูุฑุฏู-ุจููุณุฌู
- โ ุงููููุฉ ุงูุซุงููุฉ ุชุชุญูู ุฅูู gradient ุฃูุถุงู
- โ ุงููููุฉ ุงูุซุงูุซุฉ ูุง ูููู ุงุฎุชูุงุฑูุง (max = 2)
- โ ุงูุนุฏุงุฏ ูุธูุฑ 2/2 ุจุงูููู ุงูุฃุฎุถุฑ
- โ ุชุธูุฑ ุนูุงูุฉ "ูุฌุงูุงู" ุนูู ุงููููุงุช

### Test 3: ุงุฎุชูุงุฑ ุงูุตูุตุงุช (Optional)
```
1. ุงุฎุชุฑ ุตูุต ุดููููุงุชุฉ (+5 ุฌ.ู)
2. ุงุฎุชุฑ ุตูุต ูุฑุงููู (+5 ุฌ.ู)
3. ุญุงูู ุงุฎุชูุงุฑ ุตูุต ุซุงูุซ
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุตูุต ุงูุฃูู ููุถุงู ุจูุฌุงุญ
- โ ุงูุตูุต ุงูุซุงูู ููุถุงู ุจูุฌุงุญ
- โ ุงูุตูุต ุงูุซุงูุซ ูุง ูููู ุฅุถุงูุชู (max = 2)
- โ ุงูุณุนุฑ ูุฒูุฏ ุจู 10 ุฌ.ู (5 + 5)

### Test 4: ุงุฎุชูุงุฑ ุงูุฅุถุงูุงุช ุงูููุฑูุดุฉ (Optional)
```
1. ุงุฎุชุฑ ุฃูุฑูู ููุชุช (+8 ุฌ.ู)
2. ุงุฎุชุฑ ููุชุณ ููุชุช (+8 ุฌ.ู)
3. ุงุฎุชุฑ ุณุจุฑููููุฒ ูููู (+4 ุฌ.ู)
4. ุญุงูู ุงุฎุชูุงุฑ ุฅุถุงูุฉ ุฑุงุจุนุฉ
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุฅุถุงูุงุช ุงูุซูุงุซุฉ ุชูุถุงู ุจูุฌุงุญ
- โ ุงูุฅุถุงูุฉ ุงูุฑุงุจุนุฉ ูุง ูููู ุฅุถุงูุชูุง (max = 3)
- โ ุงูุณุนุฑ ูุฒูุฏ ุจู 20 ุฌ.ู (8 + 8 + 4)

### Test 5: CustomizationSummary
```
1. ุจุนุฏ ุงุฎุชูุงุฑ ุนุฏุฉ ุฎูุงุฑุงุช
2. ุชุญูู ูู ุธููุฑ ููุฎุต ุงูุงุฎุชูุงุฑุงุช
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุธูุฑ ูุณู "ุงุฎุชูุงุฑุงุชู ุงููุฎุตุตุฉ"
- โ ูู ุงุฎุชูุงุฑ ูุธูุฑ ูุน ุงุณูู ูุณุนุฑู
- โ ุงูุฎูุงุฑุงุช ุงููุฌุงููุฉ ุชุธูุฑ "ูุฌุงูุงู"
- โ ูุธูุฑ ุฒุฑ โ ูุฅุฒุงูุฉ ูู ุงุฎุชูุงุฑ
- โ ูุธูุฑ "ูุฌููุน ุงูุฅุถุงูุงุช" ูู ุงูุฃุณูู

### Test 6: ุญุณุงุจ ุงูุณุนุฑ
```
ุงูุณููุงุฑูู:
- ุงูููุชุฌ ุงูุฃุณุงุณู: 45 ุฌ.ู
- ูููุชูู: 0 ุฌ.ู (ูุฌุงูุงู)
- ุตูุต ุดููููุงุชุฉ: +5 ุฌ.ู
- ุฃูุฑูู: +8 ุฌ.ู
- ููุชุณ: +8 ุฌ.ู
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุณุนุฑ ุงูุฅุฌูุงูู: 66 ุฌ.ู (45 + 0 + 5 + 8 + 8)
- โ ูุธูุฑ ูู ActionFooter ุจุดูู ุตุญูุญ
- โ ุนูุฏ ุฒูุงุฏุฉ ุงููููุฉ ุฅูู 2ุ ุงูุณุนุฑ ูุตุจุญ 132 ุฌ.ู

### Test 7: Validation
```
1. ูุง ุชุฎุชุฑ ุฃู ูููุฉ
2. ุญุงูู ุฅุถุงูุฉ ุงูููุชุฌ ููุณูุฉ
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุธูุฑ alert: "ูุฌุจ ุงุฎุชูุงุฑ ุงููููุงุช"
- โ ุงูููุชุฌ ูุง ููุถุงู ููุณูุฉ
- โ ุงูููุฏุงู ูุจูู ููุชูุญุงู

### Test 8: ุฅุถุงูุฉ ููุณูุฉ
```
1. ุงุฎุชุฑ ูููุชูู
2. ุงุฎุชุฑ ุตูุต ูุงุญุฏ
3. ุงุฎุชุฑ ุฅุถุงูุฉ ูุงุญุฏุฉ
4. ุงุถุบุท "ุฅุถุงูุฉ ููุณูุฉ"
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูููุชุฌ ููุถุงู ููุณูุฉ ุจูุฌุงุญ
- โ ุงูููุฏุงู ููุบูู
- โ ุนุฏุงุฏ ุงูุณูุฉ ูุฒูุฏ
- โ ุงูุงุฎุชูุงุฑุงุช ูุญููุธุฉ ูู sessionStorage

### Test 9: ููุชุฌ ุนุงุฏู (ุบูุฑ ูุงุจู ููุชุฎุตูุต)
```
1. ุงูุชุญ ููุชุฌ ุนุงุฏู (ูุซูุงู: ูุงููููุง ููุงุณูู)
2. ุชุญูู ูู ุนุฏู ุธููุฑ ูุณู ุงูุชุฎุตูุต
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุง ูุธูุฑ ูุณู "ุงุตูุน ุงูุขูุณ ูุฑูู ุงูุฎุงุต ุจู"
- โ ูุธูุฑ ูุณู ุงูุฅุถุงูุงุช ุงููุฏูู (AddonsList)
- โ ุงููุธุงู ูุนูู ูุงููุนุชุงุฏ

### Test 10: ุฅุฒุงูุฉ ุงุฎุชูุงุฑ
```
1. ุงุฎุชุฑ ุนุฏุฉ ุฎูุงุฑุงุช
2. ุงุถุบุท ุนูู โ ุจุฌุงูุจ ุฃุญุฏ ุงูุฎูุงุฑุงุช ูู CustomizationSummary
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุฎูุงุฑ ููุฒุงู ูู ุงูููุฎุต
- โ ุงูุฎูุงุฑ ููุฒุงู ูู CustomizationSelector
- โ ุงูุณุนุฑ ูุชุญุฏุซ ุชููุงุฆูุงู
- โ ุงูุนุฏุงุฏ ูุชุญุฏุซ

## ๐ ูุดุงูู ูุญุชููุฉ ูุญููููุง

### ูุดููุฉ 1: API ูุง ูุณุชุฌูุจ
**ุงูุญู:**
```typescript
// ุชุญูู ูู API URL ูู useCustomization.ts
const API_BASE = 'https://softcream-api.mahmoud-zahran20025.workers.dev'
```

### ูุดููุฉ 2: ุงูุงุฎุชูุงุฑุงุช ูุง ุชูุญูุธ ูู ุงูุณูุฉ
**ุงูุญู:**
```typescript
// ุชุญูู ูู CartProvider.tsx
// ุชุฃูุฏ ูู ูุฌูุฏ selections ูู CartItem interface
```

### ูุดููุฉ 3: ุงูุณุนุฑ ุบูุฑ ุตุญูุญ
**ุงูุญู:**
```typescript
// ุชุญูู ูู useCustomization.ts
// ุชุฃูุฏ ูู ุญุณุงุจ customizationTotal ุจุดูู ุตุญูุญ
```

## ๐ Checklist ุงูููุงุฆู

### Backend:
- [x] Database tables created
- [x] Seed data loaded
- [x] API endpoint working
- [x] customizationService.js complete

### Frontend:
- [x] useCustomization hook updated
- [x] CustomizationSelector component ready
- [x] CustomizationSummary component ready
- [x] ProductModal integrated
- [x] CartProvider updated
- [x] API URL configured

### Testing:
- [ ] Test 1: Open soft_serve_cup
- [ ] Test 2: Select flavors
- [ ] Test 3: Select sauces
- [ ] Test 4: Select toppings
- [ ] Test 5: View summary
- [ ] Test 6: Calculate price
- [ ] Test 7: Validation
- [ ] Test 8: Add to cart
- [ ] Test 9: Regular product
- [ ] Test 10: Remove selection

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุชุดุบูู ุงูู Frontend:**
   ```bash
   cd soft-cream-nextjs
   npm run dev
   ```

2. **ูุชุญ ุงููุชุตูุญ:**
   ```
   http://localhost:3000
   ```

3. **ุงูุจุญุซ ุนู ุงูููุชุฌ:**
   - ุงุจุญุซ ุนู "ููุจ ุณููุช ุณูุฑู ูุฎุตุต"
   - ุฃู ุงูุชุญ ูุจุงุดุฑุฉ: `http://localhost:3000?product=soft_serve_cup`

4. **ุงุฎุชุจุงุฑ ุฌููุน ุงูุณููุงุฑูููุงุช ุฃุนูุงู**

5. **ุงูุชุญูู ูู Console:**
   - ุงูุชุญ Developer Tools (F12)
   - ุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก
   - ุฑุงูุจ logs ูู useCustomization

## โจ ููุงุญุธุงุช

- ุงููุธุงู ูุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ ุจุดูู ูุงูู
- ุฌููุน ุงูุฃุณุนุงุฑ ุชูุญุณุจ ูู ุงูู Backend (ุขูู)
- ุงูุงุฎุชูุงุฑุงุช ุชูุญูุธ ูู sessionStorage
- ูููู ุฅุถุงูุฉ ููุณ ุงูููุชุฌ ุจุงุฎุชูุงุฑุงุช ูุฎุชููุฉ (items ูููุตูุฉ)

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2025-11-27  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุฎุชุจุงุฑ
