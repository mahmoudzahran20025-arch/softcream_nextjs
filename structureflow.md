# ğŸ—ºï¸ Project Structure Flow - Soft Cream Next.js

## ğŸ“Š Visual Architecture Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ğŸŒ USER REQUEST                              â”‚
â”‚                              â†“                                       â”‚
â”‚                    app/layout.tsx (Root)                            â”‚
â”‚                    â”œâ”€ Cairo Font                                    â”‚
â”‚                    â”œâ”€ Metadata/SEO                                  â”‚
â”‚                    â””â”€ <Providers>                                   â”‚
â”‚                         â”œâ”€ QueryClientProvider                      â”‚
â”‚                         â”œâ”€ ThemeProvider (lang, theme, toasts)      â”‚
â”‚                         â””â”€ CartProvider (cart state)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      app/page.tsx (Home)                            â”‚
â”‚                    â”œâ”€ ISR (revalidate: 60s)                         â”‚
â”‚                    â”œâ”€ getProducts() from API                        â”‚
â”‚                    â””â”€ <PageContent initialProducts={...}>           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              components/pages/PageContent.tsx                       â”‚
â”‚              (Server Component - Providers Wrapper)                 â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ <ProductsProvider initialProducts={...}>               â”‚        â”‚
â”‚  â”‚   â”œâ”€ Products state                                    â”‚        â”‚
â”‚  â”‚   â”œâ”€ Filters state                                     â”‚        â”‚
â”‚  â”‚   â””â”€ Selected product state                            â”‚        â”‚
â”‚  â”‚                                                         â”‚        â”‚
â”‚  â”‚   <CategoryTrackingProvider>                           â”‚        â”‚
â”‚  â”‚     â”œâ”€ Active category tracking                        â”‚        â”‚
â”‚  â”‚     â”œâ”€ Scroll position tracking                        â”‚        â”‚
â”‚  â”‚     â””â”€ User interaction state                          â”‚        â”‚
â”‚  â”‚                                                         â”‚        â”‚
â”‚  â”‚       <PageContentClient>                              â”‚        â”‚
â”‚  â”‚         â”œâ”€ Header                                      â”‚        â”‚
â”‚  â”‚         â”œâ”€ StorytellingHero                            â”‚        â”‚
â”‚  â”‚         â”œâ”€ FilterBar (smart category tabs)             â”‚        â”‚
â”‚  â”‚         â”œâ”€ ProductsGrid                                â”‚        â”‚
â”‚  â”‚         â”œâ”€ Footer                                      â”‚        â”‚
â”‚  â”‚         â””â”€ All Modals (lazy loaded)                    â”‚        â”‚
â”‚  â”‚       </PageContentClient>                             â”‚        â”‚
â”‚  â”‚   </CategoryTrackingProvider>                          â”‚        â”‚
â”‚  â”‚ </ProductsProvider>                                    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         components/pages/PageContentClient.tsx                      â”‚
â”‚                  (Client Component - UI Orchestrator)               â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ UI Components (Always Rendered)                      â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ â€¢ Header (cart, orders badge, sidebar toggle)        â”‚          â”‚
â”‚  â”‚ â€¢ FilterBar (category tabs with scroll sync)         â”‚          â”‚
â”‚  â”‚ â€¢ MarqueeSwiper (animated banner)                    â”‚          â”‚
â”‚  â”‚ â€¢ TrustBanner (trust badges)                         â”‚          â”‚
â”‚  â”‚ â€¢ ToastContainer (notifications)                     â”‚          â”‚
â”‚  â”‚ â€¢ OrdersBadge (floating button)                      â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Modals (Lazy Loaded - dynamic imports)               â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ â€¢ ProductModal (product details + addons)            â”‚          â”‚
â”‚  â”‚ â€¢ CartModal (cart items + summary)                   â”‚          â”‚
â”‚  â”‚ â€¢ CheckoutModal (customer info + delivery)           â”‚          â”‚
â”‚  â”‚ â€¢ OrderSuccessModal (order confirmation)             â”‚          â”‚
â”‚  â”‚ â€¢ TrackingModal (order tracking with polling)        â”‚          â”‚
â”‚  â”‚ â€¢ MyOrdersModal (orders history)                     â”‚          â”‚
â”‚  â”‚ â€¢ EditOrderModal (edit order items)                  â”‚          â”‚
â”‚  â”‚ â€¢ NutritionSummary (cart nutrition facts)            â”‚          â”‚
â”‚  â”‚ â€¢ Sidebar (navigation menu)                          â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DATA SOURCES                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   API Server â”‚    â”‚ localStorage â”‚    â”‚sessionStorageâ”‚         â”‚
â”‚  â”‚  (Cloudflare)â”‚    â”‚  (Persistent)â”‚    â”‚  (Session)   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                   â”‚                    â”‚                  â”‚
â”‚         â”‚                   â”‚                    â”‚                  â”‚
â”‚         â†“                   â†“                    â†“                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚           lib/storage.client.ts                      â”‚          â”‚
â”‚  â”‚           (StorageManager)                           â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚          â”‚
â”‚  â”‚  â”‚ â€¢ Cart (session)                           â”‚     â”‚          â”‚
â”‚  â”‚  â”‚ â€¢ Orders (local)                           â”‚     â”‚          â”‚
â”‚  â”‚  â”‚ â€¢ Customer Profile (local)                 â”‚     â”‚          â”‚
â”‚  â”‚  â”‚ â€¢ Theme/Language (session)                 â”‚     â”‚          â”‚
â”‚  â”‚  â”‚ â€¢ Device ID (local)                        â”‚     â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                           â†“                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚              PROVIDERS (Context API)                 â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚          â”‚
â”‚  â”‚  â”‚ CartProvider                               â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ cart: CartItem[]                       â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ addToCart()                            â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ removeFromCart()                       â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ updateCartQuantity()                   â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â””â”€ getCartTotal()                         â”‚     â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚          â”‚
â”‚  â”‚  â”‚ ProductsProvider                           â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ products: Product[]                    â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ filteredProducts: Product[]            â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ selectedProduct: Product | null        â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â””â”€ applyFilters()                         â”‚     â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚          â”‚
â”‚  â”‚  â”‚ ThemeProvider                              â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ language: 'ar' | 'en'                  â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ theme: 'light' | 'dark'                â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ t() - translation function             â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â””â”€ showToast()                            â”‚     â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚          â”‚
â”‚  â”‚  â”‚ CategoryTrackingProvider (Scoped)          â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ activeCategory: string | null          â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ isUserInteracting: boolean             â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â”œâ”€ scrollToCategory()                     â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  â””â”€ isCompactMode: boolean                 â”‚     â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                           â†“                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚                  UI COMPONENTS                       â”‚          â”‚
â”‚  â”‚  (Consume context via hooks)                         â”‚          â”‚
â”‚  â”‚  â€¢ useCart()                                         â”‚          â”‚
â”‚  â”‚  â€¢ useProductsData()                                 â”‚          â”‚
â”‚  â”‚  â€¢ useTheme() / useGlobal()                          â”‚          â”‚
â”‚  â”‚  â€¢ useCategoryTracking()                             â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ User Journey Flow

### 1ï¸âƒ£ Browse Products
```
User lands on homepage
    â†“
StorytellingHero (animated intro)
    â†“
FilterBar (category tabs)
    â†“
ProductsGrid (products by category)
    â†“
Click product card
    â†“
ProductModal opens (lazy loaded)
    â”œâ”€ Product details
    â”œâ”€ Nutrition info
    â”œâ”€ Add-ons selection
    â””â”€ Add to cart button
```

### 2ï¸âƒ£ Shopping Cart
```
Click cart icon in Header
    â†“
CartModal opens (lazy loaded)
    â”œâ”€ Cart items list
    â”œâ”€ Quantity controls
    â”œâ”€ Cart summary (subtotal, delivery, total)
    â””â”€ Checkout button
```

### 3ï¸âƒ£ Checkout Flow
```
Click "Checkout" in CartModal
    â†“
CheckoutModal opens (lazy loaded)
    â”œâ”€ Customer info form (auto-filled if saved)
    â”œâ”€ Delivery method (delivery/pickup)
    â”œâ”€ Address input (GPS or manual)
    â”œâ”€ Coupon code (optional)
    â””â”€ Order summary
    â†“
Submit order
    â†“
OrderSuccessModal opens
    â”œâ”€ Order confirmation
    â”œâ”€ Order ID
    â”œâ”€ Track order button
    â””â”€ WhatsApp contact button
```

### 4ï¸âƒ£ Order Tracking
```
Click "Track Order" or Orders Badge
    â†“
TrackingModal opens (lazy loaded)
    â”œâ”€ Order header (ID, status)
    â”œâ”€ Status timeline (progress bar)
    â”œâ”€ Order summary (items, totals)
    â”œâ”€ Delivery/Pickup view (conditional)
    â””â”€ Smart polling (10s â†’ 15s â†’ 30s)
    â†“
Real-time status updates
    â”œâ”€ Backend updates order status
    â”œâ”€ Polling fetches new status
    â”œâ”€ UI updates automatically
    â””â”€ Storage triggers ordersUpdated event
```

### 5ï¸âƒ£ Orders History
```
Click Orders Badge or "My Orders" in Sidebar
    â†“
MyOrdersModal opens (lazy loaded)
    â”œâ”€ Active orders (pending, preparing, etc.)
    â”œâ”€ Completed orders (delivered)
    â”œâ”€ Cancelled orders
    â””â”€ Click order â†’ TrackingModal
```

---

## ğŸ“¦ Component Dependency Tree

```
app/layout.tsx
â””â”€â”€ Providers
    â”œâ”€â”€ QueryClientProvider
    â”œâ”€â”€ ThemeProvider
    â”‚   â””â”€â”€ (language, theme, translations, toasts)
    â””â”€â”€ CartProvider
        â””â”€â”€ (cart state, add/remove/update)

app/page.tsx
â””â”€â”€ PageContent
    â””â”€â”€ ProductsProvider
        â””â”€â”€ CategoryTrackingProvider
            â””â”€â”€ PageContentClient
                â”œâ”€â”€ Header
                â”‚   â”œâ”€â”€ Logo
                â”‚   â”œâ”€â”€ Cart Icon (badge)
                â”‚   â”œâ”€â”€ Orders Badge
                â”‚   â””â”€â”€ Sidebar Toggle
                â”œâ”€â”€ StorytellingHero
                â”‚   â”œâ”€â”€ HeroIntro
                â”‚   â”œâ”€â”€ InteractiveSections
                â”‚   â”‚   â””â”€â”€ StoryCardStack
                â”‚   â”‚       â””â”€â”€ StoryCard
                â”‚   â””â”€â”€ HeroFooter
                â”œâ”€â”€ FilterBar
                â”‚   â””â”€â”€ Category Tabs (scroll-synced)
                â”œâ”€â”€ ProductsGrid
                â”‚   â””â”€â”€ ProductCard (multiple)
                â”‚       â”œâ”€â”€ ProductImage
                â”‚       â”œâ”€â”€ ProductInfo
                â”‚       â”œâ”€â”€ NutritionCard
                â”‚       â””â”€â”€ PriceDisplay
                â”œâ”€â”€ Footer
                â”œâ”€â”€ MarqueeSwiper
                â”œâ”€â”€ TrustBanner
                â”œâ”€â”€ ToastContainer
                â””â”€â”€ Modals (lazy loaded)
                    â”œâ”€â”€ ProductModal
                    â”‚   â”œâ”€â”€ ProductHeader
                    â”‚   â”œâ”€â”€ ProductImage
                    â”‚   â”œâ”€â”€ NutritionInfo
                    â”‚   â”œâ”€â”€ AddonsList
                    â”‚   â””â”€â”€ ActionFooter
                    â”œâ”€â”€ CartModal
                    â”‚   â”œâ”€â”€ CartItem (multiple)
                    â”‚   â”‚   â”œâ”€â”€ ProductInfo
                    â”‚   â”‚   â”œâ”€â”€ QuantitySelector
                    â”‚   â”‚   â””â”€â”€ PriceDisplay
                    â”‚   â””â”€â”€ CartSummary
                    â”œâ”€â”€ CheckoutModal
                    â”‚   â”œâ”€â”€ CheckoutForm
                    â”‚   â”œâ”€â”€ DeliveryOptions
                    â”‚   â””â”€â”€ OrderSummary
                    â”œâ”€â”€ OrderSuccessModal
                    â”œâ”€â”€ TrackingModal
                    â”‚   â”œâ”€â”€ OrderHeader
                    â”‚   â”œâ”€â”€ StatusTimeline
                    â”‚   â”œâ”€â”€ OrderSummary
                    â”‚   â””â”€â”€ DeliveryView / PickupView
                    â”œâ”€â”€ MyOrdersModal
                    â”œâ”€â”€ EditOrderModal
                    â”œâ”€â”€ NutritionSummary
                    â””â”€â”€ Sidebar
```

---

## ğŸ”Œ API Integration Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      lib/api.ts (API Client)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Base URL: https://softcream-api.mahmoud-zahran20025.workers.dev   â”‚
â”‚  Timeout: 15 seconds                                                â”‚
â”‚  Retry: 1 attempt                                                   â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Products API                                         â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ â€¢ GET  /products                                     â”‚          â”‚
â”‚  â”‚ â€¢ GET  /products/:id?expand=addons,nutrition         â”‚          â”‚
â”‚  â”‚ â€¢ GET  /products/recommendations/:id                 â”‚          â”‚
â”‚  â”‚ â€¢ POST /products/nutrition-summary                   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Orders API                                           â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ â€¢ POST /orders/submit                                â”‚          â”‚
â”‚  â”‚ â€¢ POST /orders/prices (calculate totals)             â”‚          â”‚
â”‚  â”‚ â€¢ GET  /orders/track?orderId=xxx                     â”‚          â”‚
â”‚  â”‚ â€¢ PUT  /orders/:id (edit order)                      â”‚          â”‚
â”‚  â”‚ â€¢ POST /orders/:id/update (status update)            â”‚          â”‚
â”‚  â”‚ â€¢ DELETE /orders/:id/cancel                          â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Coupons API                                          â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ â€¢ POST /coupons/validate                             â”‚          â”‚
â”‚  â”‚   â”œâ”€ code: string                                    â”‚          â”‚
â”‚  â”‚   â”œâ”€ phone: string                                   â”‚          â”‚
â”‚  â”‚   â”œâ”€ subtotal: number                                â”‚          â”‚
â”‚  â”‚   â””â”€ deviceId: string                                â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Branches API (Unused - Dead Code)                   â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ â€¢ GET /branches                                      â”‚          â”‚
â”‚  â”‚ â€¢ GET /branches/availability                         â”‚          â”‚
â”‚  â”‚ â€¢ GET /branches/:id/hours                            â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Styling Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      STYLING SYSTEM                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Tailwind CSS (Utility-First)                         â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ â€¢ tailwind.config.ts (configuration)                 â”‚          â”‚
â”‚  â”‚ â€¢ app/globals.css (base styles)                      â”‚          â”‚
â”‚  â”‚ â€¢ Dark mode: class-based (.dark)                     â”‚          â”‚
â”‚  â”‚ â€¢ RTL support: dir="rtl"                             â”‚          â”‚
â”‚  â”‚ â€¢ Custom colors:                                     â”‚          â”‚
â”‚  â”‚   â”œâ”€ Primary: #A3164D (pink)                         â”‚          â”‚
â”‚  â”‚   â”œâ”€ Secondary: purple-600                           â”‚          â”‚
â”‚  â”‚   â””â”€ Accent: yellow-400                              â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Typography                                           â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ â€¢ Font: Cairo (Google Fonts)                         â”‚          â”‚
â”‚  â”‚ â€¢ Weights: 400, 500, 600, 700, 800                   â”‚          â”‚
â”‚  â”‚ â€¢ Subsets: arabic, latin                             â”‚          â”‚
â”‚  â”‚ â€¢ Variable: --font-cairo                             â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Animations                                           â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ â€¢ Framer Motion (modals, transitions)                â”‚          â”‚
â”‚  â”‚ â€¢ Swiper.js (carousels, marquee)                     â”‚          â”‚
â”‚  â”‚ â€¢ CSS animations (pulse, bounce, spin)               â”‚          â”‚
â”‚  â”‚ â€¢ Gradient animations (hero blobs)                   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” State Management Summary

| State Type | Provider | Storage | Scope |
|------------|----------|---------|-------|
| **Cart** | CartProvider | sessionStorage | Global |
| **Products** | ProductsProvider | Memory | Page-level |
| **Theme** | ThemeProvider | sessionStorage | Global |
| **Language** | ThemeProvider | sessionStorage | Global |
| **Orders** | storage.client | localStorage | Global |
| **Customer Profile** | storage.client | localStorage | Global |
| **Category Tracking** | CategoryTrackingProvider | Memory | Page-level (scoped) |
| **Device ID** | storage.client | localStorage | Global |

---

## ğŸ“Š Performance Optimizations

1. **Code Splitting**
   - Dynamic imports for all modals
   - Lazy loading of heavy components (Swiper, Framer Motion)
   - Route-based splitting (Next.js automatic)

2. **Data Fetching**
   - ISR (Incremental Static Regeneration) - 60s revalidate
   - React Query for client-side caching
   - Smart polling (adaptive intervals)

3. **Rendering**
   - Server Components for static content
   - Client Components only where needed
   - Memoization (useMemo, useCallback)

4. **Bundle Size**
   - Tree-shaking unused code
   - Dynamic imports reduce initial bundle
   - Lazy translation loading

---

## ğŸ¯ Key Architectural Decisions

1. **Guest-First Approach**
   - No authentication required
   - Device ID for user identification
   - Customer profile saved in localStorage

2. **Scoped Providers**
   - CategoryTrackingProvider only in menu view
   - Prevents global state pollution

3. **Event-Driven Communication**
   - Custom events for cross-component updates
   - Debounced event dispatching
   - Single source of truth (OrdersEventManager)

4. **Smart Polling over SSE**
   - SSE disabled due to Cloudflare Workers limitations
   - Adaptive polling intervals (10s â†’ 15s â†’ 30s)
   - Stops polling on final status

5. **Bilingual Support**
   - AR/EN translations
   - RTL/LTR layout switching
   - Lazy-loaded translation data

---

**Last Updated:** November 22, 2025  
**Architecture Version:** 2.0  
**Next.js Version:** 13+ (App Router)
