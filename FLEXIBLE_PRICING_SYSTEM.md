# ๐ฏ ูุธุงู ุงูุชุณุนูุฑ ุงููุฑู - Flexible Pricing System

## ๐ ุงูููุฑุฉ ุงูุฃุณุงุณูุฉ:

### ุงูููุชุฌ ุงูุฃุณุงุณู = 0 ุฌููู (ุฃู ุณุนุฑ ุซุงุจุช)
### ุงูุณุนุฑ ุงูููุงุฆู = ุงูููุงุณ + ุงููููุงุช + ุงูุฅุถุงูุงุช

---

## ๐ฆ ุงูุณููุงุฑูููุงุช ุงููุฎุชููุฉ:

### 1๏ธโฃ ููุจ ูุฎุตุต (BYO Cup)
```
ุงูุณุนุฑ ุงูุฃุณุงุณู: 0 ุฌ.ู (ุงูููุจ ูุงุถู)

๐ ุงูููุงุณ (ุฅุฌุจุงุฑู):
โโโ ุตุบูุฑ: 30 ุฌ.ู
โโโ ูุณุท: 40 ุฌ.ู  โ Default
โโโ ูุจูุฑ: 50 ุฌ.ู

๐ฆ ุงููููุงุช (ุฅุฌุจุงุฑู 1-2):
โโโ ูุงููููุง: 0 ุฌ.ู (ูุฌุงูู ูุน ุงูููุงุณ)
โโโ ุดููููุงุชุฉ: 0 ุฌ.ู
โโโ ... (ูู ุงููููุงุช ูุฌุงููุฉ)
โโโ ููุงุญุธุฉ: ุงูุณุนุฑ ูุญุณูุจ ูู ุงูููุงุณ

๐ซ ุงูุตูุตุงุช (ุงุฎุชูุงุฑู 0-2):
โโโ ุดููููุงุชุฉ: +5 ุฌ.ู
โโโ ูุฑุงููู: +5 ุฌ.ู
โโโ ููุชููุง: +8 ุฌ.ู

๐ช ุงูุฅุถุงูุงุช (ุงุฎุชูุงุฑู 0-3):
โโโ ุฃูุฑูู: +8 ุฌ.ู
โโโ ููุชุณ: +8 ุฌ.ู
โโโ ููุณุฑุงุช: +10 ุฌ.ู

๐ฐ ูุซุงู: ููุจ ูุณุท + ูุงููููุง + ุดููููุงุชุฉ + ุตูุต ูุฑุงููู + ุฃูุฑูู
= 0 + 40 + 0 + 0 + 5 + 8 = 53 ุฌ.ู
```

### 2๏ธโฃ ููู ูุฎุตุต (BYO Cone)
```
ุงูุณุนุฑ ุงูุฃุณุงุณู: 0 ุฌ.ู

๐ ุงูููุงุณ (ููุงุณ ูุงุญุฏ ููุท):
โโโ ุนุงุฏู: 35 ุฌ.ู (ูุดูู ูููุฉ ูุงุญุฏุฉ)

๐ฆ ุงููููุงุช (ุฅุฌุจุงุฑู 1 ููุท):
โโโ ูุงููููุง: 0 ุฌ.ู
โโโ ุดููููุงุชุฉ: 0 ุฌ.ู
โโโ ...

๐ซ ุงูุตูุตุงุช (ุงุฎุชูุงุฑู 0-1):
โโโ ุฃู ุตูุต: +5 ุฌ.ู

๐ช ุงูุฅุถุงูุงุช (ุงุฎุชูุงุฑู 0-2):
โโโ ุฃู ุฅุถุงูุฉ: +5-10 ุฌ.ู

๐ฐ ูุซุงู: ููู + ุดููููุงุชุฉ + ุตูุต ูุฑุงููู
= 0 + 35 + 0 + 5 = 40 ุฌ.ู
```

### 3๏ธโฃ ูููู ุดูู (Milkshake)
```
ุงูุณุนุฑ ุงูุฃุณุงุณู: ุญุณุจ ุงููููุฉ (30-35 ุฌ.ู)

๐ ุงูููุงุณ (ุฅุฌุจุงุฑู):
โโโ ุนุงุฏู: 0 ุฌ.ู (ุงูุณุนุฑ ุงูุฃุณุงุณู)
โโโ ูุจูุฑ: +10 ุฌ.ู

โ ุงูุฅุถุงูุงุช (ุงุฎุชูุงุฑู):
โโโ ูุฑููุฉ ูุฎูููุฉ: +5 ุฌ.ู
โโโ ุขูุณ ูุฑูู ุฅุถุงูู: +15 ุฌ.ู
โโโ ุดููููุงุชุฉ ุฅุถุงููุฉ: +5 ุฌ.ู

๐ฐ ูุซุงู: ูููู ุดูู ุดููููุงุชุฉ ูุจูุฑ + ูุฑููุฉ
= 35 + 10 + 5 = 50 ุฌ.ู
```

### 4๏ธโฃ ุขูุณ ูุฑูู ุฌุงูุฒ (Preset Ice Cream)
```
ุงูุณุนุฑ ุงูุฃุณุงุณู: ุญุณุจ ุงูููุชุฌ (25-35 ุฌ.ู)

๐ ุงูููุงุณ (ุฅุฌุจุงุฑู):
โโโ ูุณุท: 0 ุฌ.ู (ุงูุณุนุฑ ุงูุฃุณุงุณู)
โโโ ูุจูุฑ: +10 ุฌ.ู

โ ุงูุฅุถุงูุงุช (ุงุฎุชูุงุฑู):
โโโ ุตูุตุงุช: +5 ุฌ.ู
โโโ ุชูุจููุฌ: +5-10 ุฌ.ู

๐ฐ ูุซุงู: ูุงููููุง ููุงุณูู ูุจูุฑ + ุตูุต ุดููููุงุชุฉ
= 25 + 10 + 5 = 40 ุฌ.ู
```

### 5๏ธโฃ ุญูููุงุช ูุน ุขูุณ ูุฑูู (Dessert + Ice Cream)
```
ุงูุณุนุฑ ุงูุฃุณุงุณู: ุญุณุจ ุงูุญููู (35-45 ุฌ.ู)

๐ฆ ุขูุณ ูุฑูู (ุงุฎุชูุงุฑู 0-2):
โโโ ูุงููููุง: +20 ุฌ.ู
โโโ ุดููููุงุชุฉ: +20 ุฌ.ู
โโโ ...

๐ซ ุตูุตุงุช (ุงุฎุชูุงุฑู):
โโโ ุฃู ุตูุต: +5 ุฌ.ู

๐ฐ ูุซุงู: ุจุฑุงููู + ุขูุณ ูุฑูู ูุงููููุง + ุตูุต ุดููููุงุชุฉ
= 40 + 20 + 5 = 65 ุฌ.ู
```

---

## ๐๏ธ Database Schema Updates:

### ุชุญุฏูุซ ุฌุฏูู options:
```sql
-- ุงููููุงุช: ุณุนุฑ 0 ููู BYOุ ุณุนุฑ 20 ููุฅุถุงูุฉ ุนูู ุงูุญูููุงุช
-- ูุญุชุงุฌ price_context ุฃู ูุณุชุฎุฏู price_override ูู product_options

ALTER TABLE product_options ADD COLUMN flavor_price REAL DEFAULT 0;
-- flavor_price: ุณุนุฑ ุงููููุฉ ููุฐุง ุงูููุชุฌ ุงููุญุฏุฏ
-- ูุซุงู: BYO Cup โ flavor_price = 0
-- ูุซุงู: Brownie โ flavor_price = 20
```

### ุชุญุฏูุซ ุฌุฏูู product_sizes:
```sql
-- ุงูููุงุณ ูุญุชูู ุนูู ุงูุณุนุฑ ุงููุงูู (ูุด modifier)
-- ุฃู ูุณุชุฎุฏู price_override ูู product_size_options

-- ููู BYO Cup:
-- small: price_override = 30
-- medium: price_override = 40
-- large: price_override = 50

-- ููู Milkshake:
-- medium: price_override = 0 (ุงูุณุนุฑ ุงูุฃุณุงุณู)
-- large: price_override = 10 (ุฅุถุงูุฉ)
```

---

## ๐จ UI/UX Templates:

### Template 1: BYO Ice Cream (ููุจ/ููู ูุฎุตุต)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โจ ุงุตูุน ุงูุขูุณ ูุฑูู ุงูุฎุงุต ุจู        โ
โ ุงุจุฏุฃ ูู ุงูุตูุฑ ูุงุฎุชุฑ ูู ุดูุก!        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ ุงุฎุชุฑ ุงูููุงุณ:                     โ
โ   [ุตุบูุฑ 30] [ูุณุท 40โ] [ูุจูุฑ 50]    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ฆ ุงุฎุชุฑ ุงููููุงุช (1-2): *ุฅุฌุจุงุฑู      โ
โ   โ ูุงููููุง โ  โ ุดููููุงุชุฉ โ        โ
โ   โ ุชูุช  โ ูุงูุฌู  โ ูุฑุงููุฉ         โ
โ   (ูุฌุงูุงู ูุน ุงูููุงุณ)                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ซ ุฃุถู ุตูุต (ุงุฎุชูุงุฑู):               โ
โ   โ ุดููููุงุชุฉ +5  โ ูุฑุงููู +5       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ช ุฅุถุงูุงุช ููุฑูุดุฉ (ุงุฎุชูุงุฑู):         โ
โ   โ ุฃูุฑูู +8  โ ููุชุณ +8            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ฐ ุงูุฅุฌูุงูู: 53 ุฌ.ู                 โ
โ        [โ ุฃุถู ููุณูุฉ]               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Template 2: Milkshake
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฅค ูููู ุดูู ุดููููุงุชุฉ                โ
โ [ุตูุฑุฉ ุงูููุชุฌ]                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ ุงุฎุชุฑ ุงูุญุฌู:                      โ
โ   [ุนุงุฏู 35โ] [ูุจูุฑ 45]             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โ ุฅุถุงูุงุช:                          โ
โ   โ ูุฑููุฉ ูุฎูููุฉ +5                 โ
โ   โ ุขูุณ ูุฑูู ุฅุถุงูู +15              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ฐ ุงูุฅุฌูุงูู: 35 ุฌ.ู                 โ
โ        [โ ุฃุถู ููุณูุฉ]               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Template 3: Preset Ice Cream
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐จ ูุงููููุง ููุงุณูู                   โ
โ [ุตูุฑุฉ ุงูููุชุฌ]                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ ุงุฎุชุฑ ุงูุญุฌู:                      โ
โ   [ูุณุท 25โ] [ูุจูุฑ 35]              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โ ุฃุถู ุฅุถุงูุงุช:                      โ
โ   โ ุตูุต ุดููููุงุชุฉ +5                 โ
โ   โ ุตูุต ูุฑุงููู +5                   โ
โ   โ ููุณุฑุงุช +10                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ฐ ุงูุฅุฌูุงูู: 25 ุฌ.ู                 โ
โ        [โ ุฃุถู ููุณูุฉ]               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Template 4: Dessert with Ice Cream Option
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฐ ุจุฑุงููู ูุฏุฌ                       โ
โ [ุตูุฑุฉ ุงูููุชุฌ]                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ฆ ุฃุถู ุขูุณ ูุฑูู (ุงุฎุชูุงุฑู):          โ
โ   โ ูุงููููุง +20                     โ
โ   โ ุดููููุงุชุฉ +20                    โ
โ   (ููููู ุงุฎุชูุงุฑ ุญุชู 2)              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ซ ุฃุถู ุตูุต:                         โ
โ   โ ุดููููุงุชุฉ +5  โ ูุฑุงููู +5       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ฐ ุงูุฅุฌูุงูู: 40 ุฌ.ู                 โ
โ        [โ ุฃุถู ููุณูุฉ]               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ Backend Price Protection:

```javascript
// ุงูุณุนุฑ ููุญุณุจ ูู ุงูู Backend ููุท!
// ุงูู Frontend ูุนุฑุถ ุงูุณุนุฑ ูููุณุชุฎุฏู ููู ูุง ูุฑุณูู

async function calculateOrderPrice(productId, options, env) {
  const { sizeId, selections } = options;
  
  // 1. Get product base price
  const product = await getProduct(productId, env);
  let total = product.price; // ูุฏ ูููู 0 ููู BYO
  
  // 2. Add size price (from product_size_options)
  if (sizeId) {
    const sizePrice = await getSizePrice(productId, sizeId, env);
    total += sizePrice; // ูุฏ ูููู ุงูุณุนุฑ ุงููุงูู ุฃู modifier
  }
  
  // 3. Add selections prices
  for (const [groupId, optionIds] of Object.entries(selections)) {
    const groupPrice = await getGroupPrice(productId, groupId, optionIds, env);
    total += groupPrice;
  }
  
  return total;
}
```

---

## โ ุงูุฎุทูุงุช ุงูุชุงููุฉ:

1. **ุชุญุฏูุซ Database Schema** ูุฏุนู ุงูุชุณุนูุฑ ุงููุฑู
2. **ุฅูุดุงุก ุงูููุชุฌุงุช ุงูุฌุฏูุฏุฉ** (ููุจ ูุฎุตุตุ ููู ูุฎุตุตุ ูููู ุดูู...)
3. **ุชุญุฏูุซ Frontend Templates** ุญุณุจ ููุน ุงูููุชุฌ
4. **ุชุญุฏูุซ Backend Price Calculation** ููุญูุงูุฉ

---

## ๐ฏ ูู ูุจุฏุฃ ุงูุชูููุฐุ

ุฃูุชุฑุญ ูุจุฏุฃ ุจู:
1. Migration ูุชุญุฏูุซ ุงูู Database
2. Seed data ููููุชุฌุงุช ุงูุฌุฏูุฏุฉ
3. ุชุญุฏูุซ ุงูู Frontend Templates
